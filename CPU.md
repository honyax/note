# はじめてのCPU自作
[RISC-VとChiselで学ぶ はじめてのCPU自作 ――オープンソース命令セットによるカスタムCPU実装への第一歩](https://www.amazon.co.jp/dp/4297123053)

# 第Ⅰ部 CPU自作のための基礎知識
## 第１章 CPUとは何か
### 1-1 電子回路が論理を表現できる理由
### 1-2 基本論理回路がCPUを実現できる理由
### 1-3 CPUの製造プロセス

## 第２章 コンピュータ・アーキテクチャ
### 2-1 メモリ
### 2-2 コンピュータの基本的な処理の流れ

## 第３章 ハードウェア記述言語Chiselの基本
### 3-1 Chiselとは
### 3-2 オブジェクト指向とは
### 3-3 Scalaの基本文法
### 3-4 Chiselの基本文法

# 第Ⅱ部 簡単なCPUの実装
## 第４章 環境構築
### 4-1 chisel-templateのダウンロード
### 4-2 Dockerによる実行環境の構築
### 4-3 命令bit列および定数ファイル
### 4-4 第Ⅱ部で実装する命令とChiselコード全体

## 第５章 命令フェッチの実装
### 5-1 Chiselコードの概要
### 5-2 Chiselの実装

## 第６章 ChiselTestによる命令フェッチテスト
### 6-1 ChiselTestのインストール
### 6-2 テストの流れ
### 6-3 Chiselテストコードの作成
### 6-4 メモ利用hexファイルの作成
### 6-5 printfを活用したデバッグ信号の出力
### 6-6 テストの実行
### 6-7 Dockerコンテナのcommit

## 第７章 命令デコーダの実装
### 7-1 Chiselの実装
### 7-2 テストの実行

## 第８章 LW命令の実装
### 8-1 RISC-VのLW命令定義
### 8-2 Chiselの実装
### 8-3 テストの実行

## 第９章 SW命令の実装
### 9-1 RISC-VのSW命令定義
### 9-2 Chiselの実装
### 9-3 テストの実行

## 第１０章 加減算命令の実装
### 10-1 RISC-Vの加減算命令定義
### 10-2 Chiselの実装

## 第１１章 論理演算の実装
### 11-1 RISC-Vの論理演算命令定義
### 11-2 Chiselの実装

## 第１２章 デコーダの強化
### 12-1 ALU用デコード
### 12-2 MEM用デコード
### 12-3 WB用デコード

## 第１３章 シフト演算の実装
### 13-1 RISC-Vのシフト演算命令定義
### 13-2 Chiselの実装

## 第１４章 比較演算の実装
### 14-1 RISC-Vの比較演算命令定義
### 14-2 Chiselの実装

## 第１５章 分岐命令の実装
### 15-1 RISC-Vの分岐命令定義
### 15-2 Chiselの実装

## 第１６章 ジャンプ命令の実装
### 16-1 RISC-Vのジャンプ命令定義
### 16-2 Chiselの実装

## 第１７章 即値ロード命令の実装
### 17-1 RISC-Vの即値ロード命令定義
### 17-2 Chiselの実装

## 第１８章 CSR命令の実装
### 18-1 RISC-VのCSR命令定義
### 18-2 Chiselの実装

## 第１９章 ECALLの実装
### 19-1 RISC-VのECALL命令定義
### 19-2 Chiselの実装

## 第２０章 riscv-testsによるテスト
### 20-1 riscv-testsのビルド
### 20-2 ELFファイルをBINファイルへ変換
### 20-3 BINファイルのhex化
### 20-4 riscv-testsのパス条件
### 20-5 riscv-testsの実行
### 20-6 一括テストスクリプト

## 第２１章 Cプログラムを動かしてみよう
### 21-1 Cプログラム作成
### 21-2 コンパイル
### 21-3 リンク
### 21-4 機械語のhex化とdumpファイルの生成
### 21-5 テストの実行

# 第Ⅲ部 パイプラインの実装
## 第２２章 パイプラインとは
### 22-1 パイプライン処理の意義
### 22-2 CPU処理のパイプライン化
### 22-3 第Ⅲ部で完成するChiselコード

## 第２３章 パイプラインレジスタの実装
### 23-1 レジスタ定義
### 23-2 IFステージ
### 23-3 IDステージ
### 23-4 EXステージ
### 23-5 MEMステージ
### 23-6 WBステージ

## 第２４章 分岐ハザード処理
### 24-1 分岐ハザードとは
### 24-2 Chiselの実装
### 24-3 分岐ハザードのテスト

## 第２５章 データハザード処理
### 25-1 データハザードとは
### 25-2 フォワーディングのChisel実装
### 25-3 ストールのChisel実装
### 25-4 データハザードのテスト

# 第Ⅳ部 ベクトル拡張命令の実装
## 第２６章 ベクトル命令とは
### 26-1 SIMDとは
### 26-2 既存のベクトルアーキテクチャ
### 26-3 RISC-Vのベクトル命令とSIMD命令の相違点
### 26-4 第Ⅳ部で完成するChiselコード

## 第２７章 VSETVLI命令の実装
### 27-1 RISC-VのVSETVLI命令定義
### 27-2 VTYPE
### 27-3 Chiselの実装
### 27-4 テストの実行

## 第２８章 ベクトルロード命令の実装
### 28-1 unit-stride形式のベクトルロード命令定義
### 28-2 Chiselの実装
### 28-3 テストの実行

## 第２９章 ベクトル加算命令VADD.VVの実装
### 29-1 RISC-VのVADD.VV命令定義
### 29-2 Chiselの実装
### 29-3 テストの実行

## 第３０章 ベクトルストア命令の実装
### 30-1 unit-stride形式のベクトルストア命令定義
### 30-2 Chiselの実装
### 30-3 テストの実行

# 第Ⅴ部 カスタム命令の実装
## 第３１章 カスタム命令の意義
### 31-1 シングルコアの性能向上と限界
### 31-2 マルチコアによる並列処理の効率化と限界
### 31-3 DSAの可能性
### 31-4 DSAとRISC-V

## 第３２章 ポピュレーションカウント命令の実装
### 32-1 ポピュレーションカウント命令とは
### 32-2 カスタム命令を実装しない場合のポピュレーションカウントプログラム
### 32-3 カスタム命令用のコンパイラ（アセンブラ）実装
### 32-4 Chiselの実装
### 32-5 テストの実行
